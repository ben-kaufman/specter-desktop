{% extends "wallet/components/wallet_tab.jinja" %}
{% set tab = 'tx' %}
{% block content %}
	<style>
		.address {
			text-decoration: none;
			color: inherit;
			float: right;
			margin-left: 10px;
		}
		.table-holder .balance {
			display: inline;
		}
		.label {
			text-align: left;
			padding-left: 0;
			float: left;
			width: auto;
			flex-grow: 1;
		}
		.update {
			float: left;
			margin-right: 5px;
			margin-left: 5px;
		}
		.cancel {
			float: left;
			margin-left: 5px;
		}
		.edit {
			float: right;
			margin-top: 8px;
		}
		.label-row {
			display: flex;
			flex-direction: row;
		}
		.label-row > .btn {
			flex-grow: 0;
		}
	</style>
	{% from 'wallet/history/components/total_wallet_balances.jinja' import total_wallet_balances %}
	{% from 'wallet/history/components/tx_table.jinja' import tx_table %}
	{{ total_wallet_balances(wallet, specter) }}
	<div style="padding: 0 30px; width: 100%;">
			{% from 'wallet/history/components/history_nav.jinja' import history_nav %}
			{{ history_nav('utxo', wallet_alias) }}
	</div><br>
	{% set page_limit = 100 %}
	{% set utxo = wallet.utxo[page_limit * idx:page_limit * (idx + 1)] %}
	{% set next_transactions = wallet.utxo[page_limit * (idx + 1):page_limit * (idx + 2)] %}
	{% if idx != 0 or next_transactions|length != 0 %}
		<div>
			<a href="./?idx={{ idx - 1 }}" class="pagination-arrow {% if idx == 0 %}pagination-disabled{% endif %}">&#8249;</a>
			{% if next_transactions|length > 0 or idx != 0 %}
			Page {{ idx + 1 }}
			{% endif %}
			<a href="./?idx={{ idx + 1 }}" class="pagination-arrow {% if next_transactions|length == 0 %}pagination-disabled{% endif %}">&#8250;</a>
		</div>
	{% endif %}
	<div class="table-holder">
		{% from 'wallet/history/components/tx_table.jinja' import tx_table %}
		{{
			tx_table(
				specter,
				utxo,
				wallet,
				includeValidatedBlockhash=validate_merkle_proofs,
			)
		}}
	</div>
{% endblock %}
